<div align="center">

# é£ä¹¦ç¾¤æ—¥å¸¸åˆ†ææ’ä»¶


[![AstrBot](https://img.shields.io/badge/AstrBot-Plugin-ff69b4?style=for-the-badge)](https://github.com/AstrBotDevs/AstrBot)
[![License](https://img.shields.io/badge/License-MIT-green.svg?style=for-the-badge)](LICENSE)

_âœ¨ ä¸€ä¸ªåŸºäºAstrBotçš„æ™ºèƒ½ç¾¤èŠåˆ†ææ’ä»¶ï¼Œèƒ½å¤Ÿç”Ÿæˆç²¾ç¾çš„ç¾¤èŠæ—¥å¸¸åˆ†ææŠ¥å‘Šã€‚ä» [QQ æ€»ç»“æ’ä»¶](https://github.com/SXP-Simon/astrbot-qq-group-daily-analysis) è¿ç§»é£ä¹¦æ’ä»¶ã€‚[çµæ„Ÿæ¥æº](https://github.com/LSTM-Kirigaya/openmcp-tutorial/tree/main/qq-group-summary)ã€‚ âœ¨_

 </div>


## åŠŸèƒ½ç‰¹è‰²

### ğŸ¯ æ™ºèƒ½åˆ†æ
- **ç»Ÿè®¡æ•°æ®**: å…¨é¢çš„ç¾¤èŠæ´»è·ƒåº¦å’Œå‚ä¸åº¦ç»Ÿè®¡
- **è¯é¢˜åˆ†æ**: ä½¿ç”¨LLMæ™ºèƒ½æå–ç¾¤èŠä¸­çš„çƒ­é—¨è¯é¢˜å’Œè®¨è®ºè¦ç‚¹
- **ç”¨æˆ·ç”»åƒ**: åŸºäºèŠå¤©è¡Œä¸ºåˆ†æç”¨æˆ·ç‰¹å¾ï¼Œåˆ†é…ä¸ªæ€§åŒ–ç§°å·
- **åœ£ç»è¯†åˆ«**: è‡ªåŠ¨ç­›é€‰å‡ºç¾¤èŠä¸­çš„ç²¾å½©å‘è¨€

### ğŸ“Š å¯è§†åŒ–æŠ¥å‘Š
- **å¤šç§æ ¼å¼**: æ”¯æŒå›¾ç‰‡å’Œæ–‡æœ¬è¾“å‡ºæ ¼å¼
    - **ç²¾ç¾å›¾ç‰‡**: ç”Ÿæˆç¾è§‚çš„å¯è§†åŒ–æŠ¥å‘Š
    - **PDFæŠ¥å‘Š**: ç”Ÿæˆä¸“ä¸šçš„PDFæ ¼å¼åˆ†ææŠ¥å‘Šï¼ˆéœ€é…ç½®ï¼‰
- **è¯¦ç»†æ•°æ®**: åŒ…å«æ¶ˆæ¯ç»Ÿè®¡ã€æ—¶é—´åˆ†å¸ƒã€å…³é”®è¯ã€é‡‘å¥ç­‰

### ğŸ› ï¸ çµæ´»é…ç½®
- **ç¾¤ç»„ç®¡ç†**: æ”¯æŒæŒ‡å®šç‰¹å®šç¾¤ç»„å¯ç”¨åŠŸèƒ½
- **å‚æ•°è°ƒèŠ‚**: å¯è‡ªå®šä¹‰åˆ†æå¤©æ•°ã€æ¶ˆæ¯æ•°é‡ç­‰å‚æ•°
- **å®šæ—¶ä»»åŠ¡**: æ”¯æŒè®¾ç½®æ¯æ—¥è‡ªåŠ¨åˆ†ææ—¶é—´
- **è‡ªå®šä¹‰LLMæœåŠ¡** ï¼šæ”¯æŒè‡ªå®šä¹‰æŒ‡å®šçš„LLMæœåŠ¡

### é…ç½®é€‰é¡¹

| é…ç½®é¡¹ | è¯´æ˜ | å¤‡æ³¨ |
|--------|------|--------|
| å¯ç”¨è‡ªåŠ¨åˆ†æ | å¯ç”¨å®šæ—¶è§¦å‘è‡ªåŠ¨åˆ†æåŠŸèƒ½éœ€è¦æŒ‰ç…§æ’ä»¶é…ç½®é‡Œé¢çš„è¯´æ˜å¡«å†™ç›¸å…³çš„éœ€è¦çš„å­—æ®µï¼›ç®€ç•¥è¯´æ˜ï¼šæ‰“å¼€è‡ªåŠ¨åˆ†æåŠŸèƒ½ï¼Œåœ¨ç¾¤èŠåˆ—è¡¨ä¸­æ·»åŠ ç¾¤å·æˆ–è€…ä½¿ç”¨ `/åˆ†æè®¾ç½® enable` å¯ç”¨å½“å‰ç¾¤èŠ | é»˜è®¤å…³é—­ |
| PDFæ ¼å¼çš„æŠ¥å‘Š | åˆæ¬¡ä½¿ç”¨éœ€è¦ä½¿ç”¨ `/å®‰è£…PDF` å‘½ä»¤å®‰è£…ä¾èµ–ï¼Œé¦–æ¬¡ä½¿ç”¨å‘½ä»¤å®‰è£…ï¼Œæœ€åå‡ºç°æç¤ºå‘Šè¯‰ä½ éœ€è¦é‡å¯ç”Ÿæ•ˆï¼Œæ˜¯å¯¹çš„ï¼Œéœ€è¦é‡å¯ astrbotï¼Œè€Œä¸æ˜¯çƒ­é‡è½½æ’ä»¶ã€‚ | è¾“å‡ºæ ¼å¼éœ€è¦è®¾ç½®ä¸º PDF |
| è‡ªå®šä¹‰LLMæœåŠ¡ | é€šè¿‡é…ç½®æ–‡ä»¶è®¾ç½®è‡ªå®šä¹‰LLMæœåŠ¡çš„API Keyã€Base URLå’Œæ¨¡å‹åç§°ï¼Œæ³¨æ„é…ç½®ä¸­çš„æ–‡å­—è¯´æ˜ï¼Œ Base URL éœ€è¦å¡«å†™å®Œæ•´ï¼Œä¾‹å¦‚ `https://openrouter.ai/api/v1/chat/completions` | ç•™ç©ºåˆ™ä½¿ç”¨ Astrbot æŒ‡å®šçš„å½“å‰æä¾›å•† |

ä¸Šè¿°é…ç½®æƒ…å†µä»…ä¾›å‚è€ƒï¼Œæ³¨æ„ä»”ç»†é˜…è¯»æ’ä»¶é…ç½®é¡µé¢ä¸­å„ä¸ªå­—æ®µçš„è¯´æ˜ï¼Œä»¥æ’ä»¶é…ç½®ä¸­çš„è¯´æ˜ä¸ºå‡†

## ä½¿ç”¨æ–¹æ³•

### åŸºç¡€å‘½ä»¤

#### ç¾¤åˆ†æ
```
/ç¾¤åˆ†æ [å¤©æ•°]
```
- åˆ†æç¾¤èŠè¿‘æœŸæ´»åŠ¨
- å¤©æ•°å¯é€‰ï¼Œé»˜è®¤ä¸º1å¤©
- ä¾‹å¦‚ï¼š`/ç¾¤åˆ†æ 3` åˆ†ææœ€è¿‘3å¤©çš„ç¾¤èŠ

#### åˆ†æè®¾ç½®
```
/åˆ†æè®¾ç½® [æ“ä½œ]
```
- `enable`: ä¸ºå½“å‰ç¾¤å¯ç”¨åˆ†æåŠŸèƒ½
- `disable`: ä¸ºå½“å‰ç¾¤ç¦ç”¨åˆ†æåŠŸèƒ½  
- `status`: æŸ¥çœ‹å½“å‰ç¾¤çš„å¯ç”¨çŠ¶æ€
- ä¾‹å¦‚ï¼š`/åˆ†æè®¾ç½® enable`

#### è®¾ç½®æ ¼å¼
```
/è®¾ç½®æ ¼å¼ [æ ¼å¼]
```
- `text`: æ–‡æœ¬æ ¼å¼
- `image`: å›¾ç‰‡æ ¼å¼
- `pdf`: PDFæ ¼å¼
- ä¾‹å¦‚ï¼š`/è®¾ç½®æ ¼å¼ pdf`

#### å®‰è£…PDF
```
/å®‰è£…PDF
```
- å®‰è£…ä¾èµ–ï¼Œé¦–æ¬¡ä½¿ç”¨å‘½ä»¤å®‰è£…ï¼Œæœ€åå‡ºç°æç¤ºå‘Šè¯‰ä½ éœ€è¦é‡å¯ç”Ÿæ•ˆï¼Œæ˜¯å¯¹çš„ï¼Œéœ€è¦é‡å¯ astrbotï¼Œè€Œä¸æ˜¯çƒ­é‡è½½æ’ä»¶ã€‚
- ä¾‹å¦‚ï¼š`/å®‰è£…PDF`

## é£ä¹¦æƒé™

é£ä¹¦å¼€æ”¾å¹³å° -> ä¼ä¸šè‡ªå»ºåº”ç”¨ -> æƒé™ç®¡ç† -> æ‰¹é‡å¯¼å…¥æƒé™

å¸Œæœ›æ»¡è¶³æƒé™æœ€å°åŒ–å¯ä»¥è¿›è¡Œç²¾ç®€ï¼Œä¸‹é¢æ˜¯å¯ä»¥è·‘é€šçš„ç‰ˆæœ¬

```json
{
  "scopes": {
    "tenant": [
      "im:chat:read",
      "im:chat:readonly",
      "contact:contact.base:readonly",
      "contact:user.base:readonly",
      "im:message",
      "im:message.group_at_msg:readonly",
      "im:message.group_msg",
      "im:message.p2p_msg:readonly",
      "im:message:readonly",
      "im:message:send_as_bot",
      "im:resource"
    ],
    "user": []
  }
}
```